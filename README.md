# Spring_02  
  
  
  
![image](https://user-images.githubusercontent.com/80766275/203673713-06f76f82-7375-4fbe-870b-8fe2d7143f6f.png)
  
웹프로젝트는 서버와 클라이언트의 구조  
클라이언트의 요청 리퀘스트  
리퀘스트는 컨트롤러 호출 ,파라미터값(get ,post,json 방식으로 보낼것인지 고민해야함)  
  
  
서버는 파라미터 받기 고려할것은 클라이언트가 보낸 방식  
처리하는 방법 : session db,lging,view  
  
a클래스가 b클래스를 의존한다 - 비클래스가 없으면 에이클래스는 정상 작동을 하지 않음  
  
스프링에서 객채는 빈 빈을 컨테이너에 저장한다.  
s붙은 파일은 컨테이너에 보관한다  
  
  
서블릿컨텍스트와 루트컨텍스트는 컴파일해서 객체를 만들어 컨테이너에 저장  
어노테이션을 붙여서 이 객체 만들어줘 라고 한다.  
스프링에서 기본적으로 싱글톤을 지원하고 . 설정을 통해 바꿀 수 있다..  
  
di = 객체가 필요할때 new연산자로 객체를 만드는것이 아닌.. 스프링 컨테이너에 있는 객체의 주소를 주입받는다..(의존성 주입)  
  
컨테이너에 객체를 등록하는법 = 스프링의 설정파일로 객채를 생성하고 컨테이너에 등록시킨다.스프링의 설정파일은 xml 파일로 할 수 있고 자바파일로도 할 수 있다.  
우리는 지금 xml 파일로 공부중입니다.  
스프링이 컴파일하며 xml에 설정된대로 객체를 만들어서 설정된 속성에 의해 객체를 컨테이너에 보관한다.  
  
  
  
  
  
--------------------------------------------------------------  
  
  
  
*스프링은 협업,대규모 프로젝트  
*자장면집에 직원들의 분야 : 카운터, 주방,홀서빙  
소규모 :카운터 &홀서빙 ,주방
        주문받기,계산 /재료가져오기 ,자장면 만들기  
대규모 : 동시에 손님이 20명 왔다 .손님의 대기시간이 길어질 수 있고 ,서비스 오류 발생할 수 있고 ,갑자기 발생하는 이슈를 처리하기 애매  
        so 인원추가  
        카운터 , 홀서빙 , 요리사, 재료담당으로 늘림  
  
  
컨셉>개인이 작성한글은 댓글을 작성할 수 있습니다.        
    글 자세히 보기 >필요한 디비 작업 (1.해당 글 튜풀 가져오기 2. 해당글 댓글 리스트 가져오기)

컨트롤러가 dao 단에 요청을 하는 구조도 가능함 .  
    컨트롤러가 2개의 작업을 요구한다.만약 요구하는 작업이 많아질수록 컨트롤러는 해야할게 많아짐  
    파라미터도 받아야하고 디비작업도 시켜야하고 뷰도 지정해야하고 세션도 관리하고 ..힘들어짐  
    
but 컨트롤러 > 서비스단 > dao 이 구조 작성도 가능.  
    컨트롤러가 서비스단에게 한개만 요청한다. 23번글 자세히 볼거야 ..  
    서비스단이 알아서 2개의 디비작업을 실시한다.  
    컨트롤러는 디비작업이 자유로워지고 서비스가 실시한 결과만 받으면 된다.  
  
  
----------------------- 각 layer 별 개발 기술------------------------------------
    서비스단도 개발자가 마음대로 구현가능하나 스프링에서는 인터페이스로 구현하도록 한다.그리고 관련 객체도 스프링에서 관리한다.  
      
    dao단은 mybatis로 개발한다. mybatis애서는 인터페이스로 dao를 작성하도록 한다  
    
    정리)인터페이스 설명하라고 한다면..
        추상클래스,static(공용)-싱글톤할때 씀,final(상수)-값 변경 불가능/ 이를 정의하고 다른 클래스에서 구현받아 사용한다..  
        구현받은 클래스는 인터페이스의 추상클래스를 반드시 오버라이드 합니다./여기까지는 무조건 설명해야함  
        인터페이스 자료형의 변수는 구현받은 모든 클래스의 객체 주소값을 가진다(다형성)-의존성 낮추기 위해  
        인터페이스 변수로 구현받은 객체의 메서드에 접근이 가능하다.  
        객체가 다르고 그 기능도 다르지만 메서드 하나로 서로 다른 기능을 실행시킬 수 있다.  
          
--------서비스 layer------------  
 ```
  interface a  
        view();  
        
      public class b implement inf_a{
          @override  
          view(){
            //1.객체 가져오기
            //2.댓글 가져오기
          
          }  
      
      }  
```
      
----------컨트롤러 layer--------------  
              디비작업이 필요하다 ..inf_a dbbad = //b클래스 객테이 주소값을 컨테이너에서 가져온다.사전작업은 b클래스 객체를 컨테이너에 등록해야한다.  
              등록하려면 xml파일 건드려서 컨테이너에 넣어야한다.  
              
      //갑자기 사용자 정보도 가져오도록 업그레이드 하세요 .현재 저 서비스는 실행중..실행중 개발할 수 있나?-위험  
      //이 서비스는 12월25부터 시행하겠습니다.  
      //지금 시스템은 버전 1.0으로 하고 25일부터는 2.0으로 하겠습니다.
      //지금 시스템 소스는 그대로 두고 따로 개발라인으로 개발하고 개발이 완료되면 테스트 거쳐 적용  
      //최대한 기존의 소스는 건들지 않았으면 좋겠다..컨트롤러를 건들지 않는게 좋겠다  
      
      
```
 public class b_ver2 implement inf_a{
          @override  
          view(){
            //1.객체 가져오기
            //2.댓글 가져오기
            //3.사용자정보 가져오기
          
          }  
      
      }  
```  
  
이렇게 한 후 b클래스를 지우고 다시 스프링을 구동하면 자연스럽게 스프링에서는 인터페이스를 구현받은 객체로 만들어준다..  
여기서 기억해야할것은 자바에서는 인터페이스를 여러개의 클래스가 구현할 수 있지만  
스프링에서는 인터페이스당 한개의 클래스만 구현받을 수 있다...  
  
  
  
  
  
  
DI-객체를 직접 만들지말고 주입받아라 (컨테이너에 담긴)  
매퍼는 테이블당 하나  
  
  
----------------------------------------------
  
  
  
![image](https://user-images.githubusercontent.com/80766275/203702044-e5f0b3f5-946d-4340-b199-dc50bea4482a.png)
  
  ![image](https://user-images.githubusercontent.com/80766275/203702498-0307fea9-d4cb-454e-8253-80aebdc4ea10.png)  
   
   
   
  
![image](https://user-images.githubusercontent.com/80766275/203705100-73996221-4717-4652-814b-88769b70a0d2.png)
매핑과정  
  
  
  
![image](https://user-images.githubusercontent.com/80766275/203707246-c2df6949-9a04-471e-b4a3-72fc481f841c.png)
구현 에스큐엘 세션  

![image](https://user-images.githubusercontent.com/80766275/203710661-a08fda0a-614d-42db-bb15-3dfd49c0f812.png)
  
  
  
  
![image](https://user-images.githubusercontent.com/80766275/203712239-171e1928-0a8e-42d5-b1a1-e43323fc47b9.png)


